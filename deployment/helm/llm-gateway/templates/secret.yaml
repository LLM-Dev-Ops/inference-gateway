{{- if include "llm-gateway.createSecret" . }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "llm-gateway.fullname" . }}-secrets
  labels:
    {{- include "llm-gateway.labels" . | nindent 4 }}
type: Opaque
data:
  {{- if .Values.providers.openai.apiKey }}
  {{ .Values.secrets.keys.openaiApiKey }}: {{ .Values.providers.openai.apiKey | b64enc }}
  {{- end }}
  {{- if .Values.providers.anthropic.apiKey }}
  {{ .Values.secrets.keys.anthropicApiKey }}: {{ .Values.providers.anthropic.apiKey | b64enc }}
  {{- end }}
  {{- if .Values.providers.azure.apiKey }}
  {{ .Values.secrets.keys.azureApiKey }}: {{ .Values.providers.azure.apiKey | b64enc }}
  {{- end }}
  {{- if .Values.providers.google.apiKey }}
  {{ .Values.secrets.keys.googleApiKey }}: {{ .Values.providers.google.apiKey | b64enc }}
  {{- end }}
{{- end }}
